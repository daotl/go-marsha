# go-marsha

[![Go Reference](https://pkg.go.dev/badge/github.com/daotl/go-marsha.svg)](https://pkg.go.dev/github.com/daotl/go-marsha)

Marsha provides a standard data marshaling and unmarshaling interface which can be
implemented by different encodings and implementations such as CBOR and Protocol Buffers.

## Current available implementations

### [cborgen](./cborgen)

A fast `Marsha` implementation for CBOR backed by[go-ipld-cbor](https://github.com/ipfs/go-ipld-cbor)
package and [github.com/daotl/cbor-gen](https://github.com/daotl/cbor-gen) package.

To use this implementation, marshaling/unmarshaling code generated by `cbor-gen` must exist.

Note that some types are not supported by `cbor-gen` yet such as `float` types，pointers to 
integers, some slice and map types, etc.

It additionally supports `Cid` type from [github.com/ipfs/go-cid](https://github.com/ipfs/go-cid) package.

### [cbor_refmt](./cbor-refmt)

A `Marsha` implementation for CBOR backed by[go-ipld-cbor](https://github.com/ipfs/go-ipld-cbor) and [refmt](https://github.com/polydawn/refmt) packages.

Optionally, if marshaling/unmarshaling code generated by
[github.com/daotl/cbor-gen](https://github.com/daotl/cbor-gen) package is available,
it will be used for performance improvement.

Note that some types are not supported by `cbor-gen` yet such as `float` types
pointers to integers, some slice and map types, etc.

It additionally supports `Cid` type from [github.com/ipfs/go-cid](https://github.com/ipfs/go-cid) package.

### [protobuf](./protobuf)

A `Marsha` implementation for Protocol Buffers backed by `*.pb.go` files pre-generated by `protoc`.
Only `MarshalStruct` and `UnmarshalStruct` are supported by this implementation because of the 
limitation of Protocol Buffers.

## License

[MIT](LICENSE) © DAOT Labs.
